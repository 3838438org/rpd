<!DOCTYPE html>
<html>
    <head>
        <script src="./src/vendor/kefir.min.js"></script>
        <script src="./src/rpd.js"></script>
        <script src="./src/toolkit/core.js"></script>
        <script src="./src/render/core.html.js"></script>
    </head>

    <body>
        <script>
            var model = Model.start().attachTo(document.body)
                                     .renderWith('html');
            var first = new Node('core/empty', 'Test');
            var boolOutlet = first.addOutlet('core/bool', true);
            first.addOutlet('core/number', 1);
            first.addOutlet('core/number');
            var second = new Node('core/empty', 'Foo');
            var boolInlet = second.addInlet('core/bool');
            var numInlet = second.addInlet('core/number');
            boolOutlet.connect(boolInlet);
            boolOutlet.connect(numInlet, function(val) { return (val === true) ? 1 : 0 });
            boolOutlet.send(false);
            boolOutlet.stream(Kefir.repeatedly(10000, [true, false]));
            //boolOutlet.disconnect(boolInlet);
            //second.removeInlet(boolInlet)
        </script>
    </body>
</html>
